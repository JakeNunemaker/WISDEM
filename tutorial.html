
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3. Tutorial &#8212; WISDEM 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/nrel.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Documentation for WISDEM" href="documentation.html" />
    <link rel="prev" title="2. Installation" href="installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="documentation.html" title="4. Documentation for WISDEM"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WISDEM 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<span id="tutorial-label"></span><h1>3. Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<div class="section" id="tutorial-for-wisdem-with-nrel-csm">
<h2>3.1. Tutorial for WISDEM with NREL CSM<a class="headerlink" href="#tutorial-for-wisdem-with-nrel-csm" title="Permalink to this headline">¶</a></h2>
<p>As an example of WISDEM, let us use the NREL Cost and Scaling Model and simulate the NREL 5MW Reference Model [FAST2009] in a 500 mW offshore plant.</p>
<p>The first step is to import the relevant files and set up the component.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># A simple test of WISDEM using the NREL CSM</span>
<span class="kn">from</span> <span class="nn">wisdem.lcoe.lcoe_csm_assembly</span> <span class="k">import</span> <span class="n">lcoe_csm_assembly</span>

<span class="n">lcoe</span> <span class="o">=</span> <span class="n">lcoe_csm_assembly</span><span class="p">()</span>

</pre></div>
</div>
<p>The NREL CSM relies on on a large number of wind turbine and plant parameters including overall wind turbine configuration, rotor, nacelle and tower options as well as plant characteristics including the number of turbines, wind resource characteristics and financial parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># NREL 5 MW turbine specifications and plant attributes</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">machine_rating</span> <span class="o">=</span> <span class="mf">5000.0</span> <span class="c1"># Float(units = &#39;kW&#39;, iotype=&#39;in&#39;, desc= &#39;rated machine power in kW&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">rotor_diameter</span> <span class="o">=</span> <span class="mf">126.0</span> <span class="c1"># Float(units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;rotor diameter of the machine&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">max_tip_speed</span> <span class="o">=</span> <span class="mf">80.0</span> <span class="c1"># Float(units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc= &#39;maximum allowable tip speed for the rotor&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">hub_height</span> <span class="o">=</span> <span class="mf">90.0</span> <span class="c1"># Float(units = &#39;m&#39;, iotype=&#39;in&#39;, desc=&#39;hub height of wind turbine above ground / sea level&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">sea_depth</span> <span class="o">=</span> <span class="mf">20.0</span> <span class="c1"># Float(units = &#39;m&#39;, iotype=&#39;in&#39;, desc = &#39;sea depth for offshore wind project&#39;)</span>

<span class="c1"># Parameters</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">drivetrain_design</span> <span class="o">=</span> <span class="s1">&#39;geared&#39;</span> <span class="c1"># Enum(&#39;geared&#39;, (&#39;geared&#39;, &#39;single_stage&#39;, &#39;multi_drive&#39;, &#39;pm_direct_drive&#39;), iotype=&#39;in&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">altitude</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1"># Float(0.0, units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;altitude of wind plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Int(100, iotype=&#39;in&#39;, desc = &#39;total number of wind turbines at the plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">year</span> <span class="o">=</span> <span class="mi">2009</span> <span class="c1"># Int(2009, iotype=&#39;in&#39;, desc = &#39;year of project start&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">month</span> <span class="o">=</span> <span class="mi">12</span> <span class="c1"># Int(12, iotype=&#39;in&#39;, desc = &#39;month of project start&#39;)</span>

<span class="c1"># Extra AEP inputs</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">max_power_coefficient</span> <span class="o">=</span> <span class="mf">0.488</span> <span class="c1">#Float(0.488, iotype=&#39;in&#39;, desc= &#39;maximum power coefficient of rotor for operation in region 2&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">opt_tsr</span> <span class="o">=</span> <span class="mf">7.525</span> <span class="c1">#Float(7.525, iotype=&#39;in&#39;, desc= &#39;optimum tip speed ratio for operation in region 2&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">cut_in_wind_speed</span> <span class="o">=</span> <span class="mf">3.0</span> <span class="c1">#Float(3.0, units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc= &#39;cut in wind speed for the wind turbine&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">cut_out_wind_speed</span> <span class="o">=</span> <span class="mf">25.0</span> <span class="c1">#Float(25.0, units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc= &#39;cut out wind speed for the wind turbine&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">hub_height</span> <span class="o">=</span> <span class="mf">90.0</span> <span class="c1">#Float(90.0, units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;hub height of wind turbine above ground / sea level&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">altitude</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1">#Float(0.0, units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;altitude of wind plant&#39;)</span>
<span class="c1">#lcoe.air_density = Float(0.0, units = &#39;kg / (m * m * m)&#39;, iotype=&#39;in&#39;, desc= &#39;air density at wind plant site&#39;)  # default air density value is 0.0 - forces aero csm to calculate air density in model</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">drivetrain_design</span> <span class="o">=</span> <span class="s1">&#39;geared&#39;</span> <span class="c1">#Enum(&#39;geared&#39;, (&#39;geared&#39;, &#39;single_stage&#39;, &#39;multi_drive&#39;, &#39;pm_direct_drive&#39;), iotype=&#39;in&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">shear_exponent</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1">#Float(0.1, iotype=&#39;in&#39;, desc= &#39;shear exponent for wind plant&#39;) #TODO - could use wind model here</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">wind_speed_50m</span> <span class="o">=</span> <span class="mf">8.02</span> <span class="c1">#Float(8.35, units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc=&#39;mean annual wind speed at 50 m height&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">weibull_k</span><span class="o">=</span> <span class="mf">2.15</span> <span class="c1">#Float(2.1, iotype=&#39;in&#39;, desc = &#39;weibull shape factor for annual wind speed distribution&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">soiling_losses</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1">#Float(0.0, iotype=&#39;in&#39;, desc = &#39;energy losses due to blade soiling for the wind plant - average across turbines&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">array_losses</span> <span class="o">=</span> <span class="mf">0.10</span> <span class="c1">#Float(0.06, iotype=&#39;in&#39;, desc = &#39;energy losses due to turbine interactions - across entire plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">availability</span> <span class="o">=</span> <span class="mf">0.941</span> <span class="c1">#Float(0.94287630736, iotype=&#39;in&#39;, desc = &#39;average annual availbility of wind turbines at plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#Int(100, iotype=&#39;in&#39;, desc = &#39;total number of wind turbines at the plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">thrust_coefficient</span> <span class="o">=</span> <span class="mf">0.50</span> <span class="c1">#Float(0.50, iotype=&#39;in&#39;, desc=&#39;thrust coefficient at rated power&#39;)</span>

<span class="c1"># Extra TCC inputs</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">blade_number</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1">#Int(3, iotype=&#39;in&#39;, desc = &#39;number of rotor blades&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">offshore</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Bool(True, iotype=&#39;in&#39;, desc = &#39;boolean for offshore&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">advanced_blade</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Bool(False, iotype=&#39;in&#39;, desc = &#39;boolean for use of advanced blade curve&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">crane</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Bool(True, iotype=&#39;in&#39;, desc = &#39;boolean for presence of a service crane up tower&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">advanced_bedplate</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">#Int(0, iotype=&#39;in&#39;, desc= &#39;indicator for drivetrain bedplate design 0 - conventional&#39;)   </span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">advanced_tower</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#Bool(False, iotype=&#39;in&#39;, desc = &#39;advanced tower configuration&#39;)</span>

<span class="c1"># Extra Finance inputs</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">fixed_charge_rate</span> <span class="o">=</span> <span class="mf">0.12</span> <span class="c1">#Float(0.12, iotype = &#39;in&#39;, desc = &#39;fixed charge rate for coe calculation&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">construction_finance_rate</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="c1">#Float(0.00, iotype=&#39;in&#39;, desc = &#39;construction financing rate applied to overnight capital costs&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">tax_rate</span> <span class="o">=</span> <span class="mf">0.4</span> <span class="c1">#Float(0.4, iotype = &#39;in&#39;, desc = &#39;tax rate applied to operations&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">discount_rate</span> <span class="o">=</span> <span class="mf">0.07</span> <span class="c1">#Float(0.07, iotype = &#39;in&#39;, desc = &#39;applicable project discount rate&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">construction_time</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="c1">#Float(1.0, iotype = &#39;in&#39;, desc = &#39;number of years to complete project construction&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">project_lifetime</span> <span class="o">=</span> <span class="mf">20.0</span> <span class="c1">#Float(20.0, iotype = &#39;in&#39;, desc = &#39;project lifetime for LCOE calculation&#39;)</span>

</pre></div>
</div>
<p>We can now simulate the overall wind plant cost of energy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

</pre></div>
</div>
<p>We then print out the resulting cost values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="nb">print</span> <span class="s2">&quot;Cost of Energy results for a 500 MW offshore wind farm using the NREL 5 MW reference turbine&quot;</span>
<span class="nb">print</span> <span class="s2">&quot;LCOE: $</span><span class="si">{0:.4f}</span><span class="s2"> USD/kWh&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">lcoe</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;COE: $</span><span class="si">{0:.4f}</span><span class="s2"> USD/kWh&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">coe</span><span class="p">)</span>
<span class="nb">print</span>
<span class="nb">print</span> <span class="s2">&quot;AEP per turbine: </span><span class="si">{0:1f}</span><span class="s2"> kWh/turbine&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">net_aep</span> <span class="o">/</span> <span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;Turbine Cost: $</span><span class="si">{0:2f}</span><span class="s2"> USD&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_cost</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;BOS costs per turbine: $</span><span class="si">{0:2f}</span><span class="s2"> USD/turbine&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">bos_costs</span> <span class="o">/</span> <span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;OPEX per turbine: $</span><span class="si">{0:2f}</span><span class="s2"> USD/turbine&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">avg_annual_opex</span> <span class="o">/</span> <span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span><span class="p">)</span>
<span class="nb">print</span>

</pre></div>
</div>
<p>The result is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; Cost of Energy results for a 500 MW offshore wind farm using the NREL 5 MW reference turbine
&gt;&gt;&gt; LCOE: $0.1113 USD/kWh
&gt;&gt;&gt; COE: $0.1191 USD/kWh
&gt;&gt;&gt;
&gt;&gt;&gt; AEP per turbine: 16915536.836031 kWh/turbine
&gt;&gt;&gt; Turbine Cost: $5950210.271159 USD
&gt;&gt;&gt; BOS costs per turbine: $7664647.465834 USD/turbine
&gt;&gt;&gt; OPEX per turbine: $473476.639865 USD/turbine
</pre></div>
</div>
</div>
<div class="section" id="tutorial-for-wisdem-with-nrel-csm-plus-ecn-offshore-opex-model">
<h2>3.2. Tutorial for WISDEM with NREL CSM plus ECN Offshore OPEX Model<a class="headerlink" href="#tutorial-for-wisdem-with-nrel-csm-plus-ecn-offshore-opex-model" title="Permalink to this headline">¶</a></h2>
<p>If you have the ECN Offshore OPEX model and license (see (Plant_CostsSE documentation for details)`http://wisdem.github.io/Plant_CostsSE/<a href="#id2"><span class="problematic" id="id3">`</span></a>_) then you can incorporate it into your analysis along with the NREL CSM model.</p>
<p>The first step is to again import the relevant files and set up the component.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># A simple test of WISDEM using the NREL CSM along with the ECN Offshore OPEX Model</span>
<span class="kn">from</span> <span class="nn">wisdem.lcoe.lcoe_csm_ecn_assembly</span> <span class="k">import</span> <span class="n">lcoe_csm_ecn_assembly</span>

<span class="n">lcoe</span> <span class="o">=</span> <span class="n">lcoe_csm_ecn_assembly</span><span class="p">(</span><span class="s1">&#39;C:/Models/ECN Model/ECN O&amp;M Model.xls&#39;</span><span class="p">)</span> <span class="c1"># Substitute your own path to the ECN Model</span>

</pre></div>
</div>
<p>Similar to before, the NREL CSM plus the ECN Offshore OPEX Model assembly relies on on a large number of wind turbine and plant parameters including overall wind turbine configuration, rotor, nacelle and tower options as well as plant characteristics including the number of turbines, wind resource characteristics and financial parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># NREL 5 MW turbine specifications and plant attributes</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">machine_rating</span> <span class="o">=</span> <span class="mf">5000.0</span> <span class="c1"># Float(units = &#39;kW&#39;, iotype=&#39;in&#39;, desc= &#39;rated machine power in kW&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">rotor_diameter</span> <span class="o">=</span> <span class="mf">126.0</span> <span class="c1"># Float(units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;rotor diameter of the machine&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">max_tip_speed</span> <span class="o">=</span> <span class="mf">80.0</span> <span class="c1"># Float(units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc= &#39;maximum allowable tip speed for the rotor&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">hub_height</span> <span class="o">=</span> <span class="mf">90.0</span> <span class="c1"># Float(units = &#39;m&#39;, iotype=&#39;in&#39;, desc=&#39;hub height of wind turbine above ground / sea level&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">sea_depth</span> <span class="o">=</span> <span class="mf">20.0</span> <span class="c1"># Float(units = &#39;m&#39;, iotype=&#39;in&#39;, desc = &#39;sea depth for offshore wind project&#39;)</span>

<span class="c1"># Parameters</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">drivetrain_design</span> <span class="o">=</span> <span class="s1">&#39;geared&#39;</span> <span class="c1"># Enum(&#39;geared&#39;, (&#39;geared&#39;, &#39;single_stage&#39;, &#39;multi_drive&#39;, &#39;pm_direct_drive&#39;), iotype=&#39;in&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">altitude</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1"># Float(0.0, units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;altitude of wind plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Int(100, iotype=&#39;in&#39;, desc = &#39;total number of wind turbines at the plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">year</span> <span class="o">=</span> <span class="mi">2009</span> <span class="c1"># Int(2009, iotype=&#39;in&#39;, desc = &#39;year of project start&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">month</span> <span class="o">=</span> <span class="mi">12</span> <span class="c1"># Int(12, iotype=&#39;in&#39;, desc = &#39;month of project start&#39;)</span>

<span class="c1"># Extra AEP inputs</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">max_power_coefficient</span> <span class="o">=</span> <span class="mf">0.488</span> <span class="c1">#Float(0.488, iotype=&#39;in&#39;, desc= &#39;maximum power coefficient of rotor for operation in region 2&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">opt_tsr</span> <span class="o">=</span> <span class="mf">7.525</span> <span class="c1">#Float(7.525, iotype=&#39;in&#39;, desc= &#39;optimum tip speed ratio for operation in region 2&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">cut_in_wind_speed</span> <span class="o">=</span> <span class="mf">3.0</span> <span class="c1">#Float(3.0, units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc= &#39;cut in wind speed for the wind turbine&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">cut_out_wind_speed</span> <span class="o">=</span> <span class="mf">25.0</span> <span class="c1">#Float(25.0, units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc= &#39;cut out wind speed for the wind turbine&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">hub_height</span> <span class="o">=</span> <span class="mf">90.0</span> <span class="c1">#Float(90.0, units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;hub height of wind turbine above ground / sea level&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">altitude</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1">#Float(0.0, units = &#39;m&#39;, iotype=&#39;in&#39;, desc= &#39;altitude of wind plant&#39;)</span>
<span class="c1">#lcoe.air_density = Float(0.0, units = &#39;kg / (m * m * m)&#39;, iotype=&#39;in&#39;, desc= &#39;air density at wind plant site&#39;)  # default air density value is 0.0 - forces aero csm to calculate air density in model</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">drivetrain_design</span> <span class="o">=</span> <span class="s1">&#39;geared&#39;</span> <span class="c1">#Enum(&#39;geared&#39;, (&#39;geared&#39;, &#39;single_stage&#39;, &#39;multi_drive&#39;, &#39;pm_direct_drive&#39;), iotype=&#39;in&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">shear_exponent</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1">#Float(0.1, iotype=&#39;in&#39;, desc= &#39;shear exponent for wind plant&#39;) #TODO - could use wind model here</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">wind_speed_50m</span> <span class="o">=</span> <span class="mf">8.02</span> <span class="c1">#Float(8.35, units = &#39;m/s&#39;, iotype=&#39;in&#39;, desc=&#39;mean annual wind speed at 50 m height&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">weibull_k</span><span class="o">=</span> <span class="mf">2.15</span> <span class="c1">#Float(2.1, iotype=&#39;in&#39;, desc = &#39;weibull shape factor for annual wind speed distribution&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">soiling_losses</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1">#Float(0.0, iotype=&#39;in&#39;, desc = &#39;energy losses due to blade soiling for the wind plant - average across turbines&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">array_losses</span> <span class="o">=</span> <span class="mf">0.10</span> <span class="c1">#Float(0.06, iotype=&#39;in&#39;, desc = &#39;energy losses due to turbine interactions - across entire plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">availability</span> <span class="o">=</span> <span class="mf">0.941</span> <span class="c1">#Float(0.94287630736, iotype=&#39;in&#39;, desc = &#39;average annual availbility of wind turbines at plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#Int(100, iotype=&#39;in&#39;, desc = &#39;total number of wind turbines at the plant&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">thrust_coefficient</span> <span class="o">=</span> <span class="mf">0.50</span> <span class="c1">#Float(0.50, iotype=&#39;in&#39;, desc=&#39;thrust coefficient at rated power&#39;)</span>

<span class="c1"># Extra TCC inputs</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">blade_number</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1">#Int(3, iotype=&#39;in&#39;, desc = &#39;number of rotor blades&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">offshore</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Bool(True, iotype=&#39;in&#39;, desc = &#39;boolean for offshore&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">advanced_blade</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Bool(False, iotype=&#39;in&#39;, desc = &#39;boolean for use of advanced blade curve&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">crane</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Bool(True, iotype=&#39;in&#39;, desc = &#39;boolean for presence of a service crane up tower&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">advanced_bedplate</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">#Int(0, iotype=&#39;in&#39;, desc= &#39;indicator for drivetrain bedplate design 0 - conventional&#39;)   </span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">advanced_tower</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#Bool(False, iotype=&#39;in&#39;, desc = &#39;advanced tower configuration&#39;)</span>

<span class="c1"># Extra Finance inputs</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">fixed_charge_rate</span> <span class="o">=</span> <span class="mf">0.12</span> <span class="c1">#Float(0.12, iotype = &#39;in&#39;, desc = &#39;fixed charge rate for coe calculation&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">construction_finance_rate</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="c1">#Float(0.00, iotype=&#39;in&#39;, desc = &#39;construction financing rate applied to overnight capital costs&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">tax_rate</span> <span class="o">=</span> <span class="mf">0.4</span> <span class="c1">#Float(0.4, iotype = &#39;in&#39;, desc = &#39;tax rate applied to operations&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">discount_rate</span> <span class="o">=</span> <span class="mf">0.07</span> <span class="c1">#Float(0.07, iotype = &#39;in&#39;, desc = &#39;applicable project discount rate&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">construction_time</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="c1">#Float(1.0, iotype = &#39;in&#39;, desc = &#39;number of years to complete project construction&#39;)</span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">project_lifetime</span> <span class="o">=</span> <span class="mf">20.0</span> <span class="c1">#Float(20.0, iotype = &#39;in&#39;, desc = &#39;project lifetime for LCOE calculation&#39;)</span>

</pre></div>
</div>
<p>We can now simulate the overall wind plant cost of energy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">lcoe</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

</pre></div>
</div>
<p>We then print out the resulting cost values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="nb">print</span> <span class="s2">&quot;Cost of Energy results for a 500 MW offshore wind farm using the NREL 5 MW reference turbine&quot;</span>
<span class="nb">print</span> <span class="s2">&quot;LCOE: $</span><span class="si">{0:.4f}</span><span class="s2"> USD/kWh&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">lcoe</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;COE: $</span><span class="si">{0:.4f}</span><span class="s2"> USD/kWh&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">coe</span><span class="p">)</span>
<span class="nb">print</span>
<span class="nb">print</span> <span class="s2">&quot;AEP per turbine: </span><span class="si">{0:1f}</span><span class="s2"> kWh/turbine&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">net_aep</span> <span class="o">/</span> <span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;Turbine Cost: $</span><span class="si">{0:2f}</span><span class="s2"> USD&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_cost</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;BOS costs per turbine: $</span><span class="si">{0:2f}</span><span class="s2"> USD/turbine&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">bos_costs</span> <span class="o">/</span> <span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;OPEX per turbine: $</span><span class="si">{0:2f}</span><span class="s2"> USD/turbine&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lcoe</span><span class="o">.</span><span class="n">avg_annual_opex</span> <span class="o">/</span> <span class="n">lcoe</span><span class="o">.</span><span class="n">turbine_number</span><span class="p">)</span>

</pre></div>
</div>
<p>The result is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; Cost of Energy results for a 500 MW offshore wind farm using the NREL 5 MW reference turbine
&gt;&gt;&gt; LCOE: $0.1088 USD/kWh
&gt;&gt;&gt; COE: $0.1175 USD/kWh
&gt;&gt;&gt;
&gt;&gt;&gt; AEP per turbine: 16949265.578077 kWh/turbine
&gt;&gt;&gt; Turbine Cost: $5950210.271159 USD
&gt;&gt;&gt; BOS costs per turbine: $7664647.465834 USD/turbine
&gt;&gt;&gt; OPEX per turbine: $433958.907447 USD/turbine
</pre></div>
</div>
</div>
<div class="section" id="tutorial-for-wisdem-with-se-models">
<h2>3.3. Tutorial for WISDEM with SE Models<a class="headerlink" href="#tutorial-for-wisdem-with-se-models" title="Permalink to this headline">¶</a></h2>
<p>We can also use the new systems engineering WISDEM modules for assessing plant cost of energy.  In this example, we add the new turbine systems engineering and cost models along with the NREL CSM plant energy production and plant cost models.  First we create the assembly with a set of options.  Here we are setting up the lcoe_se_assembly with the new DriveSE 4-pt configuration nacelle, the NREL CSM balance of station model and a rigid blade.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wisdem.lcoe.lcoe_se_csm_assembly</span> <span class="k">import</span> <span class="n">lcoe_se_assembly</span>

<span class="n">with_new_nacelle</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">with_landbos</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">flexible_blade</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">with_3pt_drive</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">sea_depth</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">wind_class</span> <span class="o">=</span> <span class="s1">&#39;I&#39;</span>

<span class="c1"># === Create LCOE SE assembly ========</span>
<span class="n">lcoe_se</span> <span class="o">=</span> <span class="n">lcoe_se_assembly</span><span class="p">(</span><span class="n">with_new_nacelle</span><span class="p">,</span><span class="n">with_landbos</span><span class="p">,</span><span class="n">flexible_blade</span><span class="p">,</span><span class="n">with_3pt_drive</span><span class="p">)</span>

</pre></div>
</div>
<p>Next we need to set up the LCOE level inputs for the analysis and several inputs for the sub-modules.</p>
<p>Then we run the lcoe analysis.</p>
<p>Finally we print the values from the analysis.</p>
<p>The results should be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; Key Turbine Outputs for NREL 5 MW Reference Turbine
&gt;&gt;&gt; mass rotor blades:54674.80 (kg)
&gt;&gt;&gt; mass hub system: 37118.36 (kg)
&gt;&gt;&gt; mass nacelle: 193805.65 (kg)
&gt;&gt;&gt; mass tower: 358230.15 (kg)
&gt;&gt;&gt; maximum tip deflection: 10.65 (m)
&gt;&gt;&gt; ground clearance: 28.44 (m)
&gt;&gt;&gt;
&gt;&gt;&gt; Key Plant Outputs for wind plant with NREL 5 MW Turbine
&gt;&gt;&gt; COE: $0.0447 USD/kWh
&gt;&gt;&gt;
&gt;&gt;&gt; AEP per turbine: 20716963.8 kWh/turbine
&gt;&gt;&gt; Turbine Cost: $5122974.19 USD
&gt;&gt;&gt; BOS costs per turbine: $3084430.38 USD/turbine
&gt;&gt;&gt; OPEX per turbine: $242359.84 USD/turbine
</pre></div>
</div>
</div>
<div class="section" id="tutorial-for-turbine-assembly">
<h2>3.4. Tutorial for Turbine Assembly<a class="headerlink" href="#tutorial-for-turbine-assembly" title="Permalink to this headline">¶</a></h2>
<p>The turbine assembly is a nested assembly and contains subassemblies for the rotor, hub, nacelle, and tower.  Determining what inputs need to be set, and which are already connected through the assembly, can be challenging for one of these large assemblies.  There is a helper method <code class="docutils literal notranslate"><span class="pre">print_vars</span></code> in commonse noted below.  This can be particularly useful as the models are udpated and different variable sets are used.</p>
<p>All of the variables from the rotor need to be set.</p>
<p>Most of the nacelle parameters need to be set.</p>
<p>Some tower parameters need to be set, including those which come from the configurable slots.  Loading conditions and mass properties are connected to the rotor and nacelle and do not need to be set by the user.</p>
<p>With the model defined we can now run it. All outputs of the subassemblies are available, as are two additional outputs related to the turbine geometry.  The parameter <code class="docutils literal notranslate"><span class="pre">turbine.maxdeflection.max_tip_deflection</span></code> gives the clearance between the undeflected blade shape and the tower.  It represents the maximum allowable tip deflection in the +x yaw c.s. (not including safety factors) before a tower strike.  The parameter <code class="docutils literal notranslate"><span class="pre">turbine.maxdeflection.ground_clearance</span></code> gives the distance between the blade tip at its bottom passage and the ground.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">turbine</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
    <span class="nb">print</span> <span class="s1">&#39;mass rotor blades (kg) =&#39;</span><span class="p">,</span> <span class="n">turbine</span><span class="o">.</span><span class="n">rotor</span><span class="o">.</span><span class="n">mass_all_blades</span>
    <span class="nb">print</span> <span class="s1">&#39;mass hub system (kg) =&#39;</span><span class="p">,</span> <span class="n">turbine</span><span class="o">.</span><span class="n">hubSystem</span><span class="o">.</span><span class="n">hub_system_mass</span>
    <span class="nb">print</span> <span class="s1">&#39;mass nacelle (kg) =&#39;</span><span class="p">,</span> <span class="n">turbine</span><span class="o">.</span><span class="n">nacelle</span><span class="o">.</span><span class="n">nacelle_mass</span>
    <span class="nb">print</span> <span class="s1">&#39;mass tower (kg) =&#39;</span><span class="p">,</span> <span class="n">turbine</span><span class="o">.</span><span class="n">tower</span><span class="o">.</span><span class="n">mass</span>
    <span class="nb">print</span> <span class="s1">&#39;maximum tip deflection (m) =&#39;</span><span class="p">,</span> <span class="n">turbine</span><span class="o">.</span><span class="n">maxdeflection</span><span class="o">.</span><span class="n">max_tip_deflection</span>
    <span class="nb">print</span> <span class="s1">&#39;ground clearance (m) =&#39;</span><span class="p">,</span> <span class="n">turbine</span><span class="o">.</span><span class="n">maxdeflection</span><span class="o">.</span><span class="n">ground_clearance</span>
    <span class="c1"># print</span>
    <span class="c1"># print &#39;&quot;Torque&quot;:&#39;,turbine.nacelle.rotor_torque</span>
    <span class="c1"># print &#39;Mx:&#39;,turbine.nacelle.rotor_bending_moment_x</span>
    <span class="c1"># print &#39;My:&#39;,turbine.nacelle.rotor_bending_moment_y</span>
    <span class="c1"># print &#39;Mz:&#39;,turbine.nacelle.rotor_bending_moment_z</span>
    <span class="c1"># print &#39;Fx:&#39;,turbine.nacelle.rotor_force_x</span>
    <span class="c1"># print &#39;Fy:&#39;,turbine.nacelle.rotor_force_y</span>
    <span class="c1"># print &#39;Fz:&#39;,turbine.nacelle.rotor_force_z</span>
</pre></div>
</div>
<p>The results should be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span> <span class="n">rotor</span> <span class="n">blades</span> <span class="p">(</span><span class="n">kg</span><span class="p">)</span> <span class="o">=</span> <span class="mf">54674.7959412</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span> <span class="n">hub</span> <span class="n">system</span> <span class="p">(</span><span class="n">kg</span><span class="p">)</span> <span class="o">=</span> <span class="mf">37118.3606357</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span> <span class="n">nacelle</span> <span class="p">(</span><span class="n">kg</span><span class="p">)</span> <span class="o">=</span> <span class="mf">193805.649876</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span> <span class="n">tower</span> <span class="p">(</span><span class="n">kg</span><span class="p">)</span> <span class="o">=</span> <span class="mf">358230.152841</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maximum</span> <span class="n">tip</span> <span class="n">deflection</span> <span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">=</span> <span class="mf">10.6526326093</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ground</span> <span class="n">clearance</span> <span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">=</span> <span class="mf">28.4361396283</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. Tutorial</a><ul>
<li><a class="reference internal" href="#tutorial-for-wisdem-with-nrel-csm">3.1. Tutorial for WISDEM with NREL CSM</a></li>
<li><a class="reference internal" href="#tutorial-for-wisdem-with-nrel-csm-plus-ecn-offshore-opex-model">3.2. Tutorial for WISDEM with NREL CSM plus ECN Offshore OPEX Model</a></li>
<li><a class="reference internal" href="#tutorial-for-wisdem-with-se-models">3.3. Tutorial for WISDEM with SE Models</a></li>
<li><a class="reference internal" href="#tutorial-for-turbine-assembly">3.4. Tutorial for Turbine Assembly</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">2. Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="documentation.html"
                        title="next chapter">4. Documentation for WISDEM</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="documentation.html" title="4. Documentation for WISDEM"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WISDEM 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, NREL.
      Last updated on Apr 08, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>